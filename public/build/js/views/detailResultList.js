define(["jquery","underscore","backbone","views/detailResult","views/addWordDialog","i18n!nls/trailsy"],function(a,b,c,d,e,f){var g=c.View.extend({el:a("#translations"),input:a("input#word"),collection:null,events:{"click #addWord":"onClickAdd"},initialize:function(){this.items_element=a("#translationList"),b.bindAll(this,"render","onClickAdd","appendItem","unrender","setCollection","appendAddWordLink")},onClickAdd:function(a){a.preventDefault(),a.stopPropagation(),e.setCollection(this.collection),e.setDialogType("addTranslation"),e.show()},appendAddWordLink:function(){var a=this.input.val();this.items_element.append('<li class="detailResult"><a href="#" id="addWord">'+f.addTranslationFor+" "+a+"</a></li>")},setCollection:function(a){this.collection=a,this.collection.bind("add",this.render)},unrender:function(){this.items_element.html(""),this.items_element.addClass("hidden")},appendItem:function(a){var b=this.collection.get(a.id),c=new d({model:b}),e=c.render(this.search).el;this.items_element.append(e)},render:function(a){"string"==typeof a&&(this.targetLang=parseInt(a,10)),this.unrender(),this.items_element.removeClass("hidden"),this.collection.each(function(a){(parseInt(a.get("language_id"),10)===this.targetLang||this.targetLang===1)&&this.appendItem(a)},this),this.appendAddWordLink()}});return new g})